{"version":3,"sources":["webpack:///./src/components/atoms/icons/ArrowBackIcon.tsx","webpack:///./src/components/atoms/locales/LocalizedList/index.tsx","webpack:///./src/components/atoms/MemberCard/index.tsx","webpack:///./src/components/atoms/locales/LocalizedNumber/index.tsx","webpack:///./src/components/templates/Song/index.tsx","webpack:///./src/containers/Song/index.tsx","webpack:///./src/utils/arrays.ts"],"names":["ArrowBackIcon","className","width","height","viewBox","fill","d","LocalizedList","injectIntl","comma","list","intl","locale","Language","Zh","Ja","join","MemberCard","image","nameKey","name","highlightBgColor","highlightTextColor","isCenter","nameText","React","En","lastNameEn","firstNameEn","lastName","firstName","containerVariants","hover","scale","backgroundColor","textVariants","color","undefined","KOJIHARU","to","styles","link","div","whileHover","variants","transition","duration","style","container","imageContainer","wrapper","src","small","srcSet","large","alt","LocalizedNumber","num","type","counter","toCdNumber","Number","visible","opacity","x","when","hidden","headingVariants","contentContainerVariants","y","staggerChildren","contentVariants","PerformersTag","singleNumber","tagName","includes","caption","Message","text","KojiharuCard","Song","title","songTags","artwork","performersTag","formation","members","centers","creators","useScrollRestoration","background","PageContentLayout","onClick","window","history","back","aria-label","heading","tags","map","tag","index","key","flexBox","artworkImageWrapper","medium","content","section","subheading","length","row","rowIndex","grid","memberName","member","card","nameNotations","profileImage","lyrics","compose","arrange","direct","creatorsContainer","creatorsItem","creatorWork","creatorNames","query","SongContainer","data","songsJson","allMembersJson","single","filter","number","albums","array","keyField","membersArray","nodes","singleImages","Object","assign","item","String","formations","firstRow","secondRow","thirdRow","fourthRow","performers","center"],"mappings":"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","file":"component---src-containers-song-index-tsx-37a942e2b91be83bdf2a.js","sourcesContent":["import * as React from \"react\";\n\ninterface ArrowBackIconProps {\n  className?: string;\n}\n\nexport const ArrowBackIcon = ({ className }: ArrowBackIconProps) => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className={className}>\n    <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n    <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\n  </svg>\n);\n","import * as React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Language } from \"utils/constants\";\n\ninterface LocalizedListProps {\n  list: string[];\n  intl: any;\n}\n\nexport const LocalizedList = injectIntl(\n  ({ list, intl: { locale } }: LocalizedListProps) => {\n    let comma: string;\n    switch (locale) {\n      case Language.Zh:\n        comma = \"、\";\n        break;\n      case Language.Ja:\n        comma = \"、\";\n        break;\n      default:\n        comma = \", \";\n        break;\n    }\n\n    return <>{list.join(comma)}</>;\n  }\n);\n","import * as React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { injectIntl } from \"react-intl\";\nimport styles from \"./membercard.module.scss\";\nimport { KOJIHARU, Language } from \"utils/constants\";\nimport { LocalizedLink } from \"components/atoms/locales/LocalizedLink\";\nimport { LazyImage } from \"components/atoms/LazyImage\";\n\ninterface MemberCardProps {\n  image: {\n    large: string;\n    small: string;\n  };\n  nameKey: string;\n  name: {\n    lastName: string;\n    firstName: string;\n    lastNameEn: string;\n    firstNameEn: string;\n  };\n  highlightBgColor?: string;\n  highlightTextColor?: string;\n  isCenter?: boolean;\n  intl: any;\n}\n\nexport const MemberCard = injectIntl(\n  ({\n    image,\n    nameKey,\n    name,\n    intl: { locale },\n    highlightBgColor,\n    highlightTextColor,\n    isCenter,\n  }: MemberCardProps) => {\n    const nameText = React.useMemo(\n      () =>\n        locale === Language.En\n          ? name.lastNameEn + \" \" + name.firstNameEn\n          : name.lastName + \" \" + name.firstName,\n      [locale, name]\n    );\n\n    const containerVariants = React.useMemo(\n      () =>\n        highlightBgColor\n          ? {\n              hover: {\n                scale: 1.08,\n                backgroundColor: highlightBgColor,\n              },\n            }\n          : {\n              hover: {\n                scale: 1.08,\n              },\n            },\n      [highlightBgColor]\n    );\n\n    const textVariants = React.useMemo(\n      () =>\n        highlightTextColor\n          ? {\n              hover: {\n                color: highlightTextColor,\n              },\n            }\n          : undefined,\n      [highlightTextColor]\n    );\n\n    if (nameKey !== KOJIHARU) {\n      return (\n        <LocalizedLink to={`/members/${nameKey}`} className={styles.link}>\n          <motion.div\n            whileHover=\"hover\"\n            variants={containerVariants}\n            transition={{ duration: 0.3 }}\n            style={isCenter ? { backgroundColor: \"#e887a3\" } : undefined}\n            className={styles.container}\n          >\n            <div className={styles.imageContainer}>\n              <div className={styles.wrapper}>\n                <LazyImage\n                  src={image.small}\n                  srcSet={image.large + \" 2x\"}\n                  alt={nameText}\n                  className={styles.image}\n                />\n              </div>\n            </div>\n            <motion.div\n              variants={textVariants}\n              transition={{ duration: 0.3 }}\n              style={isCenter ? { color: \"#ffffff\" } : undefined}\n              className={styles.name}\n            >\n              <span>{nameText}</span>\n            </motion.div>\n          </motion.div>\n        </LocalizedLink>\n      );\n    } else {\n      return (\n        <div\n          style={isCenter ? { backgroundColor: \"#e887a3\" } : undefined}\n          className={styles.container}\n        >\n          <div className={styles.imageContainer}>\n            <div className={styles.wrapper}>\n              <LazyImage\n                src={image.small}\n                srcSet={image.large + \" 2x\"}\n                alt={nameText}\n                className={styles.image}\n              />\n            </div>\n          </div>\n          <div\n            style={isCenter ? { color: \"#ffffff\" } : undefined}\n            className={styles.name}\n          >\n            <span>{nameText}</span>\n          </div>\n        </div>\n      );\n    }\n  }\n);\n","import * as React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Language } from \"utils/constants\";\nimport { toCdNumber } from \"utils/strings\";\n\ninterface LocalizedNumberProps {\n  num: string | number;\n  type?: \"cd\" | \"row\";\n  intl: any;\n}\n\nexport const LocalizedNumber = injectIntl(\n  ({ num, type, intl: { locale } }: LocalizedNumberProps) => {\n    const counter = React.useMemo(() => {\n      switch (type) {\n        case \"cd\":\n          return locale === Language.Ja ? \"枚\" : \"张\";\n        case \"row\":\n          return locale === Language.Ja ? \"列\" : \"排\";\n        default:\n          return locale === Language.Ja ? \"枚\" : \"张\";\n      }\n    }, [type, locale]);\n\n    if (locale === Language.En) {\n      return type !== \"cd\" ? (\n        <>\n          {toCdNumber(num)} {type}\n        </>\n      ) : (\n        <>{toCdNumber(num)}</>\n      );\n    }\n\n    if (Number(num)) {\n      if (locale === Language.Ja) {\n        return <>{num + counter}目</>;\n      }\n      return <>第{num + counter}</>;\n    }\n\n    return <>under</>;\n  }\n);\n","import * as React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { injectIntl } from \"react-intl\";\nimport styles from \"./song.module.scss\";\nimport { PageContentLayout } from \"components/atoms/PageContentLayout\";\nimport { ArrowBackIcon } from \"components/atoms/icons/ArrowBackIcon\";\nimport { SongType } from \"types/responseTypes\";\nimport { KOJIHARU, Language } from \"utils/constants\";\nimport { LocalizedList } from \"components/atoms/locales/LocalizedList\";\nimport { MemberCard } from \"components/atoms/MemberCard\";\nimport { LocalizedNumber } from \"components/atoms/locales/LocalizedNumber\";\nimport { useScrollRestoration } from \"utils/hooks\";\nimport { Message } from \"components/atoms/Message\";\n\nconst containerVariants = {\n  visible: {\n    opacity: 1,\n    x: 0,\n    transition: {\n      when: \"beforeChildren\",\n    },\n  },\n  hidden: {\n    opacity: 0,\n    x: -20,\n  },\n};\n\nconst headingVariants = {\n  visible: {\n    opacity: 1,\n    x: 0,\n  },\n  hidden: {\n    opacity: 0,\n    x: -20,\n  },\n};\n\nconst contentContainerVariants = {\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: {\n      when: \"beforeChildren\",\n      staggerChildren: 0.2,\n    },\n  },\n  hidden: {\n    opacity: 0,\n    y: 20,\n  },\n};\n\nconst contentVariants = {\n  visible: {\n    opacity: 1,\n    y: 0,\n  },\n  hidden: {\n    opacity: 0,\n    y: -20,\n  },\n};\n\nconst PerformersTag = injectIntl(\n  ({\n    singleNumber,\n    tagName,\n    intl: { locale },\n  }: {\n    singleNumber: string;\n    tagName: string;\n    intl: any;\n  }) => {\n    if (tagName === \"\") {\n      return null;\n    }\n\n    if (tagName.includes(\"generation\")) {\n      return (\n        <p className={styles.caption}>\n          #<Message text={tagName} />\n        </p>\n      );\n    }\n\n    if (tagName === \"selected\" || tagName === \"under\") {\n      return locale === Language.En ? (\n        <p className={styles.caption}>\n          #<LocalizedNumber num={singleNumber} type=\"cd\" />{\" \"}\n          <Message text=\"single\" /> <Message text={tagName} />{\" \"}\n          <Message text=\"members\" />\n        </p>\n      ) : (\n        <p className={styles.caption}>\n          #<LocalizedNumber num={singleNumber} type=\"cd\" />\n          <Message text=\"single\" />\n          <Message text={tagName} />\n          <Message text=\"members\" />\n        </p>\n      );\n    }\n\n    return <p className={styles.caption}>#{tagName}</p>;\n  }\n);\n\nconst KojiharuCard = ({ isCenter }: { isCenter: boolean }) => (\n  <MemberCard\n    nameKey={KOJIHARU}\n    name={{\n      lastName: \"小嶋\",\n      lastNameEn: \"kojima\",\n      firstName: \"陽菜\",\n      firstNameEn: \"haruna\",\n    }}\n    image={{\n      large:\n        \"https://raw.githubusercontent.com/shawnrivers/nogizaka-data/master/src/images/members/others/kojimaharuna_large.jpg\",\n      small:\n        \"https://raw.githubusercontent.com/shawnrivers/nogizaka-data/master/src/images/members/others/kojimaharuna_small.jpg\",\n    }}\n    isCenter={isCenter}\n  />\n);\n\ntype SongPerformerType = {\n  name: string;\n  nameNotations: {\n    lastName: string;\n    firstName: string;\n    lastNameEn: string;\n    firstNameEn: string;\n  };\n  profileImage: {\n    large: string;\n    small: string;\n  };\n  singleImages: {\n    large: string;\n    small: string;\n  }[];\n};\n\ninterface SongProps {\n  title: string;\n  songTags: string[];\n  type: SongType;\n  artwork: {\n    large: string;\n    medium: string;\n  };\n  performersTag: {\n    singleNumber: string;\n    name: string;\n  };\n  formation: string[][];\n  members: { [key: string]: SongPerformerType };\n  centers: string[];\n  creators: {\n    arrange: string[];\n    compose: string[];\n    direct: string[];\n    lyrics: string[];\n  };\n}\n\nexport const Song = ({\n  title,\n  type,\n  songTags,\n  artwork,\n  performersTag,\n  formation,\n  members,\n  centers,\n  creators,\n}: SongProps) => {\n  useScrollRestoration();\n\n  return (\n    <div className={styles.background}>\n      <PageContentLayout>\n        <motion.div whileHover={{ x: -7, scale: 1.5 }} className={styles.link}>\n          <button\n            onClick={() => {\n              window.history.back();\n            }}\n            aria-label=\"Go Back\"\n          >\n            <ArrowBackIcon className={styles.back} />\n          </button>\n        </motion.div>\n        <motion.div variants={containerVariants} className={styles.container}>\n          <motion.div variants={headingVariants} className={styles.heading}>\n            <h1 className={styles.title}>{title}</h1>\n            <h4 className={styles.tags}>\n              <span>\n                #<Message text={type} />\n              </span>\n              {songTags.map((tag, index) => (\n                <span key={index}>{tag}</span>\n              ))}\n            </h4>\n          </motion.div>\n          <motion.div\n            variants={contentContainerVariants}\n            className={styles.flexBox}\n          >\n            <motion.div variants={contentVariants} className={styles.artwork}>\n              <div className={styles.artworkImageWrapper}>\n                <img\n                  src={artwork.medium}\n                  srcSet={`${artwork.large} 1.5x`}\n                  alt={title}\n                />\n              </div>\n            </motion.div>\n            <motion.div variants={contentVariants} className={styles.content}>\n              <section className={styles.section}>\n                <h2 className={styles.subheading}>\n                  <Message text=\"performers\" />\n                </h2>\n                <PerformersTag\n                  singleNumber={performersTag.singleNumber}\n                  tagName={performersTag.name}\n                />\n                <div className={styles.formation}>\n                  {formation.length > 1 ? (\n                    formation.map((row, index) => (\n                      <div key={index} className={styles.row}>\n                        <h4 className={styles.rowIndex}>\n                          <LocalizedNumber num={index + 1} type=\"row\" />\n                        </h4>\n                        <div className={styles.grid}>\n                          {row.map(memberName => {\n                            if (memberName !== KOJIHARU) {\n                              const member = members[memberName];\n                              return (\n                                <div className={styles.card} key={member.name}>\n                                  <MemberCard\n                                    nameKey={memberName}\n                                    name={member.nameNotations}\n                                    image={member.profileImage}\n                                    isCenter={centers.includes(member.name)}\n                                  />\n                                </div>\n                              );\n                            } else {\n                              return (\n                                <div className={styles.card} key={memberName}>\n                                  <KojiharuCard\n                                    isCenter={centers.includes(memberName)}\n                                  />\n                                </div>\n                              );\n                            }\n                          })}\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div className={styles.grid}>\n                      {formation[0].map(memberName => {\n                        if (memberName !== KOJIHARU) {\n                          const member = members[memberName];\n                          return (\n                            <div className={styles.card} key={member.name}>\n                              <MemberCard\n                                nameKey={member.name}\n                                name={member.nameNotations}\n                                image={member.profileImage}\n                                isCenter={centers.includes(memberName)}\n                              />\n                            </div>\n                          );\n                        } else {\n                          return (\n                            <div className={styles.card} key={memberName}>\n                              <KojiharuCard\n                                isCenter={centers.includes(memberName)}\n                              />\n                            </div>\n                          );\n                        }\n                      })}\n                    </div>\n                  )}\n                </div>\n              </section>\n              {creators.lyrics.length +\n                creators.compose.length +\n                creators.arrange.length +\n                creators.direct.length >\n              0 ? (\n                <section className={styles.section}>\n                  <h2\n                    className={\n                      styles.subheading + \" \" + styles.creatorsContainer\n                    }\n                  >\n                    <Message text=\"creators\" />\n                  </h2>\n                  <div className={styles.creators}>\n                    {creators.lyrics.length > 0 ? (\n                      <div className={styles.creatorsItem}>\n                        <span className={styles.creatorWork}>\n                          <Message text=\"lyrics\" />\n                        </span>\n                        <span className={styles.creatorNames}>\n                          <LocalizedList list={creators.lyrics} />\n                        </span>\n                      </div>\n                    ) : null}\n                    {creators.compose.length > 0 ? (\n                      <div className={styles.creatorsItem}>\n                        <span className={styles.creatorWork}>\n                          <Message text=\"compose\" />\n                        </span>\n                        <span className={styles.creatorNames}>\n                          <LocalizedList list={creators.compose} />\n                        </span>\n                      </div>\n                    ) : null}\n                    {creators.arrange.length > 0 ? (\n                      <div className={styles.creatorsItem}>\n                        <span className={styles.creatorWork}>\n                          <Message text=\"arrange\" />\n                        </span>\n                        <span className={styles.creatorNames}>\n                          <LocalizedList list={creators.arrange} />\n                        </span>\n                      </div>\n                    ) : null}\n                    {creators.direct.length > 0 ? (\n                      <div className={styles.creatorsItem}>\n                        <span className={styles.creatorWork}>\n                          <Message text=\"direct\" />\n                        </span>\n                        <span className={styles.creatorNames}>\n                          <LocalizedList list={creators.direct} />\n                        </span>\n                      </div>\n                    ) : null}\n                  </div>\n                </section>\n              ) : null}\n            </motion.div>\n          </motion.div>\n        </motion.div>\n      </PageContentLayout>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { graphql } from \"gatsby\";\nimport { SongType } from \"types/responseTypes\";\nimport { Song } from \"components/templates/Song\";\nimport { toCdNumber } from \"utils/strings\";\nimport { arrayToObject } from \"utils/arrays\";\n\nexport const query = graphql`\n  query($key: String!) {\n    songsJson(key: { eq: $key }) {\n      title\n      type\n      artwork {\n        large\n        medium\n      }\n      single {\n        number\n      }\n      albums {\n        number\n      }\n      performersTag {\n        singleNumber\n        name\n      }\n      performers {\n        center\n      }\n      formations {\n        firstRow\n        fourthRow\n        secondRow\n        thirdRow\n      }\n      creators {\n        arrange\n        compose\n        direct\n        lyrics\n      }\n    }\n    allMembersJson {\n      nodes {\n        name\n        nameNotations {\n          firstName\n          firstNameEn\n          lastName\n          lastNameEn\n        }\n        profileImage {\n          large\n          small\n        }\n        singleImages {\n          large\n          small\n        }\n      }\n    }\n  }\n`;\n\ninterface SongData {\n  data: {\n    songsJson: {\n      title: string;\n      type: SongType;\n      artwork: {\n        large: string;\n        medium: string;\n      };\n      single: {\n        number: string;\n      };\n      albums: {\n        number: string;\n      }[];\n      performersTag: {\n        singleNumber: string;\n        name: string;\n      };\n      performers: {\n        center: string[];\n      };\n      formations: {\n        firstRow: string[];\n        fourthRow: string[];\n        secondRow: string[];\n        thirdRow: string[];\n      };\n      creators: {\n        arrange: string[];\n        compose: string[];\n        direct: string[];\n        lyrics: string[];\n      };\n    };\n    allMembersJson: {\n      nodes: {\n        name: string;\n        nameNotations: {\n          lastName: string;\n          firstName: string;\n          lastNameEn: string;\n          firstNameEn: string;\n        };\n        profileImage: {\n          large: string;\n          small: string;\n        };\n        singleImages: {\n          large: string;\n          small: string;\n        }[];\n      }[];\n    };\n  };\n}\n\nconst SongContainer = ({ data: { songsJson, allMembersJson } }: SongData) => {\n  const songTags = React.useMemo(\n    () => [\n      ...[songsJson.single]\n        .filter(({ number }) => number !== \"\")\n        .map(({ number }) => `#${toCdNumber(number)} single`),\n      ...songsJson.albums.map(({ number }) => `#${toCdNumber(number)} album`),\n    ],\n    [songsJson.single, songsJson.albums]\n  );\n\n  const members = React.useMemo(() => {\n    let membersArray = allMembersJson.nodes;\n\n    const singleNumber = songsJson.performersTag.singleNumber;\n\n    for (const member of membersArray) {\n      if (singleNumber !== \"\") {\n        member.profileImage = member.singleImages[Number(singleNumber) - 1];\n      }\n    }\n\n    return arrayToObject(membersArray, \"name\");\n  }, [allMembersJson.nodes, songsJson.performersTag.singleNumber]);\n\n  const formation = React.useMemo(\n    () =>\n      [\n        songsJson.formations.firstRow,\n        songsJson.formations.secondRow,\n        songsJson.formations.thirdRow,\n        songsJson.formations.fourthRow,\n      ].filter(formation => formation.length > 0),\n    [songsJson.formations]\n  );\n\n  return songsJson ? (\n    <Song\n      title={songsJson.title}\n      songTags={songTags}\n      type={songsJson.type}\n      artwork={songsJson.artwork}\n      performersTag={songsJson.performersTag}\n      formation={formation}\n      members={members}\n      centers={songsJson.performers.center}\n      creators={songsJson.creators}\n    />\n  ) : null;\n};\n\nexport default SongContainer;\n","export const arrayToObject = <T>(\n  array: T[],\n  keyField: keyof T\n): { [key: string]: T } =>\n  Object.assign({}, ...array.map(item => ({ [String(item[keyField])]: item })));\n\nexport const sortByDate = <T>(\n  array: T[],\n  keyField: keyof T,\n  order: \"asc\" | \"desc\"\n): T[] =>\n  array\n    .slice()\n    .sort((itemA, itemB) =>\n      order === \"asc\"\n        ? new Date(itemA[keyField] as any).getTime() -\n          new Date(itemB[keyField] as any).getTime()\n        : new Date(itemB[keyField] as any).getTime() -\n          new Date(itemA[keyField] as any).getTime()\n    );\n"],"sourceRoot":""}