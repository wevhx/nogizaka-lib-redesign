{"version":3,"sources":["webpack:///./src/components/atoms/locales/LocalizedNumber/index.tsx","webpack:///./src/components/templates/Song/index.tsx","webpack:///./src/containers/Song/index.tsx","webpack:///./src/utils/arrays.ts","webpack:///./src/components/atoms/icons/ArrowBackIcon.tsx","webpack:///./src/components/atoms/MemberCard/index.tsx","webpack:///./src/components/atoms/locales/LocalizedList/index.tsx"],"names":["LocalizedNumber","injectIntl","num","type","locale","intl","counter","React","Language","Ja","En","toCdNumber","Number","containerVariants","visible","opacity","x","transition","when","hidden","headingVariants","contentContainerVariants","y","staggerChildren","contentVariants","PerformersTag","singleNumber","tagName","includes","className","styles","caption","Message","text","KojiharuCard","isCenter","MemberCard","nameKey","KOJIHARU","name","lastName","lastNameEn","firstName","firstNameEn","image","large","small","Song","title","songTags","artwork","performersTag","formation","members","centers","creators","useScrollRestoration","background","Layout","page","div","whileHover","scale","link","onClick","window","history","back","aria-label","ArrowBackIcon","variants","container","heading","tags","map","tag","index","key","flexBox","artworkImageWrapper","src","medium","srcSet","alt","content","section","subheading","length","row","rowIndex","grid","memberName","member","card","nameNotations","profileImage","creatorsContainer","lyrics","creatorsItem","creatorWork","creatorNames","LocalizedList","list","compose","arrange","direct","query","SongContainer","data","songsJson","allMembersJson","single","filter","number","albums","array","keyField","membersArray","nodes","singleImages","Object","assign","item","String","formations","firstRow","secondRow","thirdRow","fourthRow","performers","center","width","height","viewBox","fill","d","highlightBgColor","highlightTextColor","nameText","hover","backgroundColor","textVariants","color","undefined","to","duration","style","imageContainer","wrapper","comma","Zh","join"],"mappings":"8QAWaA,EAAkBC,aAC7B,YAA2D,IAAxDC,EAAwD,EAAxDA,IAAKC,EAAmD,EAAnDA,KAAcC,EAAqC,EAA7CC,KAAQD,OACdE,EAAUC,WAAc,WAC5B,OAAQJ,GACN,IAAK,KACH,OAAOC,IAAWI,IAASC,GAAK,IAAM,IACxC,IAAK,MACH,OAAOL,IAAWI,IAASC,GAAK,IAAM,IACxC,QACE,OAAOL,IAAWI,IAASC,GAAK,IAAM,OAEzC,CAACN,EAAMC,IAEV,OAAIA,IAAWI,IAASE,GACN,OAATP,EACL,gCACGQ,YAAWT,GADd,IACqBC,GAGrB,gCAAGQ,YAAWT,IAIdU,OAAOV,GACLE,IAAWI,IAASC,GACf,gCAAGP,EAAMI,EAAT,KAEF,oCAAIJ,EAAMI,GAGZ,4C,iBC3BLO,EAAoB,CACxBC,QAAS,CACPC,QAAS,EACTC,EAAG,EACHC,WAAY,CACVC,KAAM,mBAGVC,OAAQ,CACNJ,QAAS,EACTC,GAAI,KAIFI,EAAkB,CACtBN,QAAS,CACPC,QAAS,EACTC,EAAG,GAELG,OAAQ,CACNJ,QAAS,EACTC,GAAI,KAIFK,EAA2B,CAC/BP,QAAS,CACPC,QAAS,EACTO,EAAG,EACHL,WAAY,CACVC,KAAM,iBACNK,gBAAiB,KAGrBJ,OAAQ,CACNJ,QAAS,EACTO,EAAG,KAIDE,EAAkB,CACtBV,QAAS,CACPC,QAAS,EACTO,EAAG,GAELH,OAAQ,CACNJ,QAAS,EACTO,GAAI,KAIFG,EAAgBxB,aACpB,YAQM,IAPJyB,EAOI,EAPJA,aACAC,EAMI,EANJA,QACQvB,EAKJ,EALJC,KAAQD,OAMR,MAAgB,KAAZuB,EACK,KAGLA,EAAQC,SAAS,cAEjB,qBAAGC,UAAWC,IAAOC,SAArB,IACG,gBAACC,EAAA,EAAD,CAASC,KAAMN,KAKN,aAAZA,GAAsC,UAAZA,EACrBvB,IAAWI,IAASE,GACzB,qBAAGmB,UAAWC,IAAOC,SAArB,IACG,gBAAC/B,EAAD,CAAiBE,IAAKwB,EAAcvB,KAAK,OAAQ,IAClD,gBAAC6B,EAAA,EAAD,CAASC,KAAK,WAFhB,IAE4B,gBAACD,EAAA,EAAD,CAASC,KAAMN,IAAY,IACrD,gBAACK,EAAA,EAAD,CAASC,KAAK,aAGhB,qBAAGJ,UAAWC,IAAOC,SAArB,IACG,gBAAC/B,EAAD,CAAiBE,IAAKwB,EAAcvB,KAAK,OAC1C,gBAAC6B,EAAA,EAAD,CAASC,KAAK,WACd,gBAACD,EAAA,EAAD,CAASC,KAAMN,IACf,gBAACK,EAAA,EAAD,CAASC,KAAK,aAKb,qBAAGJ,UAAWC,IAAOC,SAArB,IAAgCJ,MAIrCO,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACnB,gBAACC,EAAA,EAAD,CACEC,QAASC,IACTC,KAAM,CACJC,SAAU,KACVC,WAAY,SACZC,UAAW,KACXC,YAAa,UAEfC,MAAO,CACLC,MACE,sHACFC,MACE,uHAEJX,SAAUA,KA6CDY,EAAO,SAAC,GAUJ,IATfC,EASe,EATfA,MACA7C,EAQe,EARfA,KACA8C,EAOe,EAPfA,SACAC,EAMe,EANfA,QACAC,EAKe,EALfA,cACAC,EAIe,EAJfA,UACAC,EAGe,EAHfA,QACAC,EAEe,EAFfA,QACAC,EACe,EADfA,SAIA,OAFAC,cAGE,uBAAK3B,UAAWC,IAAO2B,YACrB,gBAACC,EAAA,EAAD,CAAQ7B,UAAWC,IAAO6B,MACxB,gBAAC,IAAOC,IAAR,CAAYC,WAAY,CAAE7C,GAAI,EAAG8C,MAAO,KAAOjC,UAAWC,IAAOiC,MAC/D,0BACEC,QAAS,WACPC,OAAOC,QAAQC,QAEjBC,aAAW,WAEX,gBAACC,EAAA,EAAD,CAAexC,UAAWC,IAAOqC,SAGrC,gBAAC,IAAOP,IAAR,CAAYU,SAAUzD,EAAmBgB,UAAWC,IAAOyC,WACzD,gBAAC,IAAOX,IAAR,CAAYU,SAAUlD,EAAiBS,UAAWC,IAAO0C,SACvD,sBAAI3C,UAAWC,IAAOkB,OAAQA,GAC9B,sBAAInB,UAAWC,IAAO2C,MACpB,gCACG,gBAACzC,EAAA,EAAD,CAASC,KAAM9B,KAEjB8C,EAASyB,KAAI,SAACC,EAAKC,GAAN,OACZ,wBAAMC,IAAKD,GAAQD,QAIzB,gBAAC,IAAOf,IAAR,CACEU,SAAUjD,EACVQ,UAAWC,IAAOgD,SAElB,gBAAC,IAAOlB,IAAR,CAAYU,SAAU9C,EAAiBK,UAAWC,IAAOoB,SACvD,uBAAKrB,UAAWC,IAAOiD,qBACrB,uBACEC,IAAK9B,EAAQ+B,OACbC,OAAWhC,EAAQL,MAAb,QACNsC,IAAKnC,MAIX,gBAAC,IAAOY,IAAR,CAAYU,SAAU9C,EAAiBK,UAAWC,IAAOsD,SACvD,2BAASvD,UAAWC,IAAOuD,SACzB,sBAAIxD,UAAWC,IAAOwD,YACpB,gBAACtD,EAAA,EAAD,CAASC,KAAK,gBAEhB,gBAACR,EAAD,CACEC,aAAcyB,EAAczB,aAC5BC,QAASwB,EAAcZ,OAEzB,uBAAKV,UAAWC,IAAOsB,WACpBA,EAAUmC,OAAS,EAClBnC,EAAUsB,KAAI,SAACc,EAAKZ,GAAN,OACZ,uBAAKC,IAAKD,EAAO/C,UAAWC,IAAO0D,KACjC,sBAAI3D,UAAWC,IAAO2D,UACpB,gBAACzF,EAAD,CAAiBE,IAAK0E,EAAQ,EAAGzE,KAAK,SAExC,uBAAK0B,UAAWC,IAAO4D,MACpBF,EAAId,KAAI,SAAAiB,GACP,GAAIA,IAAerD,IAAU,CAC3B,IAAMsD,EAASvC,EAAQsC,GACvB,OACE,uBAAK9D,UAAWC,IAAO+D,KAAMhB,IAAKe,EAAOrD,MACvC,gBAACH,EAAA,EAAD,CACEC,QAASsD,EACTpD,KAAMqD,EAAOE,cACblD,MAAOgD,EAAOG,aACd5D,SAAUmB,EAAQ1B,SAASgE,EAAOrD,SAKxC,OACE,uBAAKV,UAAWC,IAAO+D,KAAMhB,IAAKc,GAChC,gBAAC,EAAD,CACExD,SAAUmB,EAAQ1B,SAAS+D,cAU3C,uBAAK9D,UAAWC,IAAO4D,MACpBtC,EAAU,GAAGsB,KAAI,SAAAiB,GAChB,GAAIA,IAAerD,IAAU,CAC3B,IAAMsD,EAASvC,EAAQsC,GACvB,OACE,uBAAK9D,UAAWC,IAAO+D,KAAMhB,IAAKe,EAAOrD,MACvC,gBAACH,EAAA,EAAD,CACEC,QAASuD,EAAOrD,KAChBA,KAAMqD,EAAOE,cACblD,MAAOgD,EAAOG,aACd5D,SAAUmB,EAAQ1B,SAAS+D,MAKjC,OACE,uBAAK9D,UAAWC,IAAO+D,KAAMhB,IAAKc,GAChC,gBAAC,EAAD,CACExD,SAAUmB,EAAQ1B,SAAS+D,YAU7C,2BAAS9D,UAAWC,IAAOuD,SACzB,sBACExD,UAAWC,IAAOwD,WAAa,IAAMxD,IAAOkE,mBAE5C,gBAAChE,EAAA,EAAD,CAASC,KAAK,cAEhB,uBAAKJ,UAAWC,IAAOyB,UACpBA,EAAS0C,OAAOV,OAAS,EACxB,uBAAK1D,UAAWC,IAAOoE,cACrB,wBAAMrE,UAAWC,IAAOqE,aACtB,gBAACnE,EAAA,EAAD,CAASC,KAAK,YAEhB,wBAAMJ,UAAWC,IAAOsE,cACtB,gBAACC,EAAA,EAAD,CAAeC,KAAM/C,EAAS0C,WAGhC,KACH1C,EAASgD,QAAQhB,OAAS,EACzB,uBAAK1D,UAAWC,IAAOoE,cACrB,wBAAMrE,UAAWC,IAAOqE,aACtB,gBAACnE,EAAA,EAAD,CAASC,KAAK,aAEhB,wBAAMJ,UAAWC,IAAOsE,cACtB,gBAACC,EAAA,EAAD,CAAeC,KAAM/C,EAASgD,YAGhC,KACHhD,EAASiD,QAAQjB,OAAS,EACzB,uBAAK1D,UAAWC,IAAOoE,cACrB,wBAAMrE,UAAWC,IAAOqE,aACtB,gBAACnE,EAAA,EAAD,CAASC,KAAK,aAEhB,wBAAMJ,UAAWC,IAAOsE,cACtB,gBAACC,EAAA,EAAD,CAAeC,KAAM/C,EAASiD,YAGhC,KACHjD,EAASkD,OAAOlB,OAAS,EACxB,uBAAK1D,UAAWC,IAAOoE,cACrB,wBAAMrE,UAAWC,IAAOqE,aACtB,gBAACnE,EAAA,EAAD,CAASC,KAAK,YAEhB,wBAAMJ,UAAWC,IAAOsE,cACtB,gBAACC,EAAA,EAAD,CAAeC,KAAM/C,EAASkD,WAGhC,a,2tBC1Uf,IAAMC,EAAQ,aAqKNC,UAnDO,SAAC,GAAsD,QAApDC,KAAQC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,eACpC7D,EAAW1C,WACf,6BACK,CAACsG,EAAUE,QACXC,QAAO,kBAA2B,KAA3B,EAAGC,UACVvC,KAAI,gBAAGuC,EAAH,EAAGA,OAAH,UAAoBtG,YAAWsG,GAA/B,cAHT,EAIKJ,EAAUK,OAAOxC,KAAI,gBAAGuC,EAAH,EAAGA,OAAH,UAAoBtG,YAAWsG,GAA/B,gBAE1B,CAACJ,EAAUE,OAAQF,EAAUK,SAGzB7D,EAAU9C,WAAc,WAC5B,ICpIF4G,EACAC,EDmIQ1F,EAAed,OAAOiG,EAAUE,OAAOE,QAEzCI,EAAeP,EAAeQ,MAElC,EAAqBD,EAArB,wDAAmC,yFAAxBzB,EAAwB,EACD,KAA5BiB,EAAUE,OAAOE,SACnBrB,EAAOG,aAAeH,EAAO2B,aAAa7F,EAAe,IAI7D,OC9IFyF,ED8IuBE,EC7IvBD,ED6IqC,OC3IrCI,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,SAAeL,EAAMzC,KAAI,SAAAgD,GAAI,mBAAQC,OAAOD,EAAKN,KAAaM,EAAjC,UD4IhC,CAACZ,EAAeQ,MAAOT,EAAUE,OAAOE,SAErC7D,EAAY7C,WAChB,iBACE,CACEsG,EAAUe,WAAWC,SACrBhB,EAAUe,WAAWE,UACrBjB,EAAUe,WAAWG,SACrBlB,EAAUe,WAAWI,WACrBhB,QAAO,SAAA5D,GAAS,OAAIA,EAAUmC,OAAS,OAC3C,CAACsB,EAAUe,aAGb,OAAOf,EACL,gBAAC,EAAD,CACE7D,MAAO6D,EAAU7D,MACjBC,SAAUA,EACV9C,KAAM0G,EAAU1G,KAChB+C,QAAS2D,EAAU3D,QACnBC,cAAe0D,EAAU1D,cACzBC,UAAWA,EACXC,QAASA,EACTC,QAASuD,EAAUoB,WAAWC,OAC9B3E,SAAUsD,EAAUtD,WAEpB,O,iCEzKN,6CAMac,EAAgB,SAAC,GAAD,IAAGxC,EAAH,EAAGA,UAAH,OAC3B,uBAAKsG,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYxG,UAAWA,GACzD,wBAAMyG,KAAK,OAAOC,EAAE,oBACpB,wBAAMA,EAAE,oE,4JCiBCnG,EAAanC,aACxB,YAQuB,IAPrB2C,EAOqB,EAPrBA,MACAP,EAMqB,EANrBA,QACAE,EAKqB,EALrBA,KACQnC,EAIa,EAJrBC,KAAQD,OACRoI,EAGqB,EAHrBA,iBACAC,EAEqB,EAFrBA,mBACAtG,EACqB,EADrBA,SAEMuG,EAAWnI,WACf,kBACEH,IAAWI,IAASE,GAChB6B,EAAKE,WAAa,IAAMF,EAAKI,YAC7BJ,EAAKC,SAAW,IAAMD,EAAKG,YACjC,CAACtC,EAAQmC,IAGL1B,EAAoBN,WACxB,kBACEiI,EACI,CACEG,MAAO,CACL7E,MAAO,KACP8E,gBAAiBJ,IAGrB,CACEG,MAAO,CACL7E,MAAO,SAGjB,CAAC0E,IAGGK,EAAetI,WACnB,kBACEkI,EACI,CACEE,MAAO,CACLG,MAAOL,SAGXM,IACN,CAACN,IAGH,OAAIpG,IAAYC,IAEZ,gBAAC,IAAD,CAAe0G,GAAE,YAAc3G,EAAWR,UAAWC,IAAOiC,MAC1D,gBAAC,IAAOH,IAAR,CACEC,WAAW,QACXS,SAAUzD,EACVI,WAAY,CAAEgI,SAAU,IACxBC,MAAO/G,EAAW,CAAEyG,gBAAiB,gBAAcG,EACnDlH,UAAWC,IAAOyC,WAElB,uBAAK1C,UAAWC,IAAOqH,gBACrB,uBAAKtH,UAAWC,IAAOsH,SACrB,gBAAC,IAAD,CACEpE,IAAKpC,EAAME,MACXoC,OAAQtC,EAAMC,MAAQ,MACtBsC,IAAKuD,EACL7G,UAAWC,IAAOc,UAIxB,gBAAC,IAAOgB,IAAR,CACEU,SAAUuE,EACV5H,WAAY,CAAEgI,SAAU,IACxBC,MAAO/G,EAAW,CAAE2G,MAAO,gBAAcC,EACzClH,UAAWC,IAAOS,MAElB,4BAAOmG,MAOb,uBACEQ,MAAO/G,EAAW,CAAEyG,gBAAiB,gBAAcG,EACnDlH,UAAWC,IAAOyC,WAElB,uBAAK1C,UAAWC,IAAOqH,gBACrB,uBAAKtH,UAAWC,IAAOsH,SACrB,gBAAC,IAAD,CACEpE,IAAKpC,EAAME,MACXoC,OAAQtC,EAAMC,MAAQ,MACtBsC,IAAKuD,EACL7G,UAAWC,IAAOc,UAIxB,uBACEsG,MAAO/G,EAAW,CAAE2G,MAAO,gBAAcC,EACzClH,UAAWC,IAAOS,MAElB,4BAAOmG,S,iCC5HnB,4DASarC,EAAgBpG,aAC3B,YAAoD,IAC9CoJ,EADH/C,EAAiD,EAAjDA,KAED,OAFkD,EAA3CjG,KAAQD,QAGb,KAAKI,IAAS8I,GAGd,KAAK9I,IAASC,GACZ4I,EAAQ,IACR,MACF,QACEA,EAAQ,KAIZ,OAAO,gCAAG/C,EAAKiD,KAAKF","file":"component---src-containers-song-index-tsx-5a4d83b737a251e54a97.js","sourcesContent":["import * as React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Language } from \"utils/constants\";\nimport { toCdNumber } from \"utils/strings\";\n\ninterface LocalizedNumberProps {\n  num: string | number;\n  type?: \"cd\" | \"row\";\n  intl: any;\n}\n\nexport const LocalizedNumber = injectIntl(\n  ({ num, type, intl: { locale } }: LocalizedNumberProps) => {\n    const counter = React.useMemo(() => {\n      switch (type) {\n        case \"cd\":\n          return locale === Language.Ja ? \"枚\" : \"张\";\n        case \"row\":\n          return locale === Language.Ja ? \"列\" : \"排\";\n        default:\n          return locale === Language.Ja ? \"枚\" : \"张\";\n      }\n    }, [type, locale]);\n\n    if (locale === Language.En) {\n      return type !== \"cd\" ? (\n        <>\n          {toCdNumber(num)} {type}\n        </>\n      ) : (\n        <>{toCdNumber(num)}</>\n      );\n    }\n\n    if (Number(num)) {\n      if (locale === Language.Ja) {\n        return <>{num + counter}目</>;\n      }\n      return <>第{num + counter}</>;\n    }\n\n    return <>under</>;\n  }\n);\n","import * as React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { injectIntl } from \"react-intl\";\nimport styles from \"./song.module.scss\";\nimport { Layout } from \"components/atoms/Layout\";\nimport { ArrowBackIcon } from \"components/atoms/icons/ArrowBackIcon\";\nimport { SongType } from \"types/responseTypes\";\nimport { KOJIHARU, Language } from \"utils/constants\";\nimport { LocalizedList } from \"components/atoms/locales/LocalizedList\";\nimport { MemberCard } from \"components/atoms/MemberCard\";\nimport { LocalizedNumber } from \"components/atoms/locales/LocalizedNumber\";\nimport { useScrollRestoration } from \"utils/hooks\";\nimport { Message } from \"components/atoms/Message\";\n\nconst containerVariants = {\n  visible: {\n    opacity: 1,\n    x: 0,\n    transition: {\n      when: \"beforeChildren\",\n    },\n  },\n  hidden: {\n    opacity: 0,\n    x: -20,\n  },\n};\n\nconst headingVariants = {\n  visible: {\n    opacity: 1,\n    x: 0,\n  },\n  hidden: {\n    opacity: 0,\n    x: -20,\n  },\n};\n\nconst contentContainerVariants = {\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: {\n      when: \"beforeChildren\",\n      staggerChildren: 0.2,\n    },\n  },\n  hidden: {\n    opacity: 0,\n    y: 20,\n  },\n};\n\nconst contentVariants = {\n  visible: {\n    opacity: 1,\n    y: 0,\n  },\n  hidden: {\n    opacity: 0,\n    y: -20,\n  },\n};\n\nconst PerformersTag = injectIntl(\n  ({\n    singleNumber,\n    tagName,\n    intl: { locale },\n  }: {\n    singleNumber: string;\n    tagName: string;\n    intl: any;\n  }) => {\n    if (tagName === \"\") {\n      return null;\n    }\n\n    if (tagName.includes(\"generation\")) {\n      return (\n        <p className={styles.caption}>\n          #<Message text={tagName} />\n        </p>\n      );\n    }\n\n    if (tagName === \"selected\" || tagName === \"under\") {\n      return locale === Language.En ? (\n        <p className={styles.caption}>\n          #<LocalizedNumber num={singleNumber} type=\"cd\" />{\" \"}\n          <Message text=\"single\" /> <Message text={tagName} />{\" \"}\n          <Message text=\"members\" />\n        </p>\n      ) : (\n        <p className={styles.caption}>\n          #<LocalizedNumber num={singleNumber} type=\"cd\" />\n          <Message text=\"single\" />\n          <Message text={tagName} />\n          <Message text=\"members\" />\n        </p>\n      );\n    }\n\n    return <p className={styles.caption}>#{tagName}</p>;\n  }\n);\n\nconst KojiharuCard = ({ isCenter }: { isCenter: boolean }) => (\n  <MemberCard\n    nameKey={KOJIHARU}\n    name={{\n      lastName: \"小嶋\",\n      lastNameEn: \"kojima\",\n      firstName: \"陽菜\",\n      firstNameEn: \"haruna\",\n    }}\n    image={{\n      large:\n        \"https://raw.githubusercontent.com/shawnrivers/nogizaka-data/master/src/images/members/others/kojimaharuna_large.jpg\",\n      small:\n        \"https://raw.githubusercontent.com/shawnrivers/nogizaka-data/master/src/images/members/others/kojimaharuna_small.jpg\",\n    }}\n    isCenter={isCenter}\n  />\n);\n\ntype SongPerformerType = {\n  name: string;\n  nameNotations: {\n    lastName: string;\n    firstName: string;\n    lastNameEn: string;\n    firstNameEn: string;\n  };\n  profileImage: {\n    large: string;\n    small: string;\n  };\n  singleImages: {\n    large: string;\n    small: string;\n  }[];\n};\n\ninterface SongProps {\n  title: string;\n  songTags: string[];\n  type: SongType;\n  artwork: {\n    large: string;\n    medium: string;\n  };\n  performersTag: {\n    singleNumber: string;\n    name: string;\n  };\n  formation: string[][];\n  members: { [key: string]: SongPerformerType };\n  centers: string[];\n  creators: {\n    arrange: string[];\n    compose: string[];\n    direct: string[];\n    lyrics: string[];\n  };\n}\n\nexport const Song = ({\n  title,\n  type,\n  songTags,\n  artwork,\n  performersTag,\n  formation,\n  members,\n  centers,\n  creators,\n}: SongProps) => {\n  useScrollRestoration();\n\n  return (\n    <div className={styles.background}>\n      <Layout className={styles.page}>\n        <motion.div whileHover={{ x: -7, scale: 1.5 }} className={styles.link}>\n          <button\n            onClick={() => {\n              window.history.back();\n            }}\n            aria-label=\"Go Back\"\n          >\n            <ArrowBackIcon className={styles.back} />\n          </button>\n        </motion.div>\n        <motion.div variants={containerVariants} className={styles.container}>\n          <motion.div variants={headingVariants} className={styles.heading}>\n            <h1 className={styles.title}>{title}</h1>\n            <h4 className={styles.tags}>\n              <span>\n                #<Message text={type} />\n              </span>\n              {songTags.map((tag, index) => (\n                <span key={index}>{tag}</span>\n              ))}\n            </h4>\n          </motion.div>\n          <motion.div\n            variants={contentContainerVariants}\n            className={styles.flexBox}\n          >\n            <motion.div variants={contentVariants} className={styles.artwork}>\n              <div className={styles.artworkImageWrapper}>\n                <img\n                  src={artwork.medium}\n                  srcSet={`${artwork.large} 1.5x`}\n                  alt={title}\n                />\n              </div>\n            </motion.div>\n            <motion.div variants={contentVariants} className={styles.content}>\n              <section className={styles.section}>\n                <h2 className={styles.subheading}>\n                  <Message text=\"performers\" />\n                </h2>\n                <PerformersTag\n                  singleNumber={performersTag.singleNumber}\n                  tagName={performersTag.name}\n                />\n                <div className={styles.formation}>\n                  {formation.length > 1 ? (\n                    formation.map((row, index) => (\n                      <div key={index} className={styles.row}>\n                        <h4 className={styles.rowIndex}>\n                          <LocalizedNumber num={index + 1} type=\"row\" />\n                        </h4>\n                        <div className={styles.grid}>\n                          {row.map(memberName => {\n                            if (memberName !== KOJIHARU) {\n                              const member = members[memberName];\n                              return (\n                                <div className={styles.card} key={member.name}>\n                                  <MemberCard\n                                    nameKey={memberName}\n                                    name={member.nameNotations}\n                                    image={member.profileImage}\n                                    isCenter={centers.includes(member.name)}\n                                  />\n                                </div>\n                              );\n                            } else {\n                              return (\n                                <div className={styles.card} key={memberName}>\n                                  <KojiharuCard\n                                    isCenter={centers.includes(memberName)}\n                                  />\n                                </div>\n                              );\n                            }\n                          })}\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div className={styles.grid}>\n                      {formation[0].map(memberName => {\n                        if (memberName !== KOJIHARU) {\n                          const member = members[memberName];\n                          return (\n                            <div className={styles.card} key={member.name}>\n                              <MemberCard\n                                nameKey={member.name}\n                                name={member.nameNotations}\n                                image={member.profileImage}\n                                isCenter={centers.includes(memberName)}\n                              />\n                            </div>\n                          );\n                        } else {\n                          return (\n                            <div className={styles.card} key={memberName}>\n                              <KojiharuCard\n                                isCenter={centers.includes(memberName)}\n                              />\n                            </div>\n                          );\n                        }\n                      })}\n                    </div>\n                  )}\n                </div>\n              </section>\n              <section className={styles.section}>\n                <h2\n                  className={styles.subheading + \" \" + styles.creatorsContainer}\n                >\n                  <Message text=\"creators\" />\n                </h2>\n                <div className={styles.creators}>\n                  {creators.lyrics.length > 0 ? (\n                    <div className={styles.creatorsItem}>\n                      <span className={styles.creatorWork}>\n                        <Message text=\"lyrics\" />\n                      </span>\n                      <span className={styles.creatorNames}>\n                        <LocalizedList list={creators.lyrics} />\n                      </span>\n                    </div>\n                  ) : null}\n                  {creators.compose.length > 0 ? (\n                    <div className={styles.creatorsItem}>\n                      <span className={styles.creatorWork}>\n                        <Message text=\"compose\" />\n                      </span>\n                      <span className={styles.creatorNames}>\n                        <LocalizedList list={creators.compose} />\n                      </span>\n                    </div>\n                  ) : null}\n                  {creators.arrange.length > 0 ? (\n                    <div className={styles.creatorsItem}>\n                      <span className={styles.creatorWork}>\n                        <Message text=\"arrange\" />\n                      </span>\n                      <span className={styles.creatorNames}>\n                        <LocalizedList list={creators.arrange} />\n                      </span>\n                    </div>\n                  ) : null}\n                  {creators.direct.length > 0 ? (\n                    <div className={styles.creatorsItem}>\n                      <span className={styles.creatorWork}>\n                        <Message text=\"direct\" />\n                      </span>\n                      <span className={styles.creatorNames}>\n                        <LocalizedList list={creators.direct} />\n                      </span>\n                    </div>\n                  ) : null}\n                </div>\n              </section>\n            </motion.div>\n          </motion.div>\n        </motion.div>\n      </Layout>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { graphql } from \"gatsby\";\nimport { SongType } from \"types/responseTypes\";\nimport { Song } from \"components/templates/Song\";\nimport { toCdNumber } from \"utils/strings\";\nimport { arrayToObject } from \"utils/arrays\";\n\nexport const query = graphql`\n  query($key: String!) {\n    songsJson(key: { eq: $key }) {\n      title\n      type\n      artwork {\n        large\n        medium\n      }\n      single {\n        number\n      }\n      albums {\n        number\n      }\n      performersTag {\n        singleNumber\n        name\n      }\n      performers {\n        center\n      }\n      formations {\n        firstRow\n        fourthRow\n        secondRow\n        thirdRow\n      }\n      creators {\n        arrange\n        compose\n        direct\n        lyrics\n      }\n    }\n    allMembersJson {\n      nodes {\n        name\n        nameNotations {\n          firstName\n          firstNameEn\n          lastName\n          lastNameEn\n        }\n        profileImage {\n          large\n          small\n        }\n        singleImages {\n          large\n          small\n        }\n      }\n    }\n  }\n`;\n\ninterface SongData {\n  data: {\n    songsJson: {\n      title: string;\n      type: SongType;\n      artwork: {\n        large: string;\n        medium: string;\n      };\n      single: {\n        number: string;\n      };\n      albums: {\n        number: string;\n      }[];\n      performersTag: {\n        singleNumber: string;\n        name: string;\n      };\n      performers: {\n        center: string[];\n      };\n      formations: {\n        firstRow: string[];\n        fourthRow: string[];\n        secondRow: string[];\n        thirdRow: string[];\n      };\n      creators: {\n        arrange: string[];\n        compose: string[];\n        direct: string[];\n        lyrics: string[];\n      };\n    };\n    allMembersJson: {\n      nodes: {\n        name: string;\n        nameNotations: {\n          lastName: string;\n          firstName: string;\n          lastNameEn: string;\n          firstNameEn: string;\n        };\n        profileImage: {\n          large: string;\n          small: string;\n        };\n        singleImages: {\n          large: string;\n          small: string;\n        }[];\n      }[];\n    };\n  };\n}\n\nconst SongContainer = ({ data: { songsJson, allMembersJson } }: SongData) => {\n  const songTags = React.useMemo(\n    () => [\n      ...[songsJson.single]\n        .filter(({ number }) => number !== \"\")\n        .map(({ number }) => `#${toCdNumber(number)} single`),\n      ...songsJson.albums.map(({ number }) => `#${toCdNumber(number)} album`),\n    ],\n    [songsJson.single, songsJson.albums]\n  );\n\n  const members = React.useMemo(() => {\n    const singleNumber = Number(songsJson.single.number);\n\n    let membersArray = allMembersJson.nodes;\n\n    for (const member of membersArray) {\n      if (songsJson.single.number !== \"\") {\n        member.profileImage = member.singleImages[singleNumber - 1];\n      }\n    }\n\n    return arrayToObject(membersArray, \"name\");\n  }, [allMembersJson.nodes, songsJson.single.number]);\n\n  const formation = React.useMemo(\n    () =>\n      [\n        songsJson.formations.firstRow,\n        songsJson.formations.secondRow,\n        songsJson.formations.thirdRow,\n        songsJson.formations.fourthRow,\n      ].filter(formation => formation.length > 0),\n    [songsJson.formations]\n  );\n\n  return songsJson ? (\n    <Song\n      title={songsJson.title}\n      songTags={songTags}\n      type={songsJson.type}\n      artwork={songsJson.artwork}\n      performersTag={songsJson.performersTag}\n      formation={formation}\n      members={members}\n      centers={songsJson.performers.center}\n      creators={songsJson.creators}\n    />\n  ) : null;\n};\n\nexport default SongContainer;\n","export const arrayToObject = <T>(\n  array: T[],\n  keyField: keyof T\n): { [key: string]: T } =>\n  Object.assign({}, ...array.map(item => ({ [String(item[keyField])]: item })));\n\nexport const sortByDate = <T>(\n  array: T[],\n  keyField: keyof T,\n  order: \"asc\" | \"desc\"\n): T[] =>\n  array\n    .slice()\n    .sort((itemA, itemB) =>\n      order === \"asc\"\n        ? new Date(itemA[keyField] as any).getTime() -\n          new Date(itemB[keyField] as any).getTime()\n        : new Date(itemB[keyField] as any).getTime() -\n          new Date(itemA[keyField] as any).getTime()\n    );\n","import * as React from \"react\";\n\ninterface ArrowBackIconProps {\n  className?: string;\n}\n\nexport const ArrowBackIcon = ({ className }: ArrowBackIconProps) => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className={className}>\n    <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n    <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\n  </svg>\n);\n","import * as React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { injectIntl } from \"react-intl\";\nimport styles from \"./membercard.module.scss\";\nimport { KOJIHARU, Language } from \"utils/constants\";\nimport { LocalizedLink } from \"components/atoms/locales/LocalizedLink\";\nimport { LazyImage } from \"components/atoms/LazyImage\";\n\ninterface MemberCardProps {\n  image: {\n    large: string;\n    small: string;\n  };\n  nameKey: string;\n  name: {\n    lastName: string;\n    firstName: string;\n    lastNameEn: string;\n    firstNameEn: string;\n  };\n  highlightBgColor?: string;\n  highlightTextColor?: string;\n  isCenter?: boolean;\n  intl: any;\n}\n\nexport const MemberCard = injectIntl(\n  ({\n    image,\n    nameKey,\n    name,\n    intl: { locale },\n    highlightBgColor,\n    highlightTextColor,\n    isCenter,\n  }: MemberCardProps) => {\n    const nameText = React.useMemo(\n      () =>\n        locale === Language.En\n          ? name.lastNameEn + \" \" + name.firstNameEn\n          : name.lastName + \" \" + name.firstName,\n      [locale, name]\n    );\n\n    const containerVariants = React.useMemo(\n      () =>\n        highlightBgColor\n          ? {\n              hover: {\n                scale: 1.08,\n                backgroundColor: highlightBgColor,\n              },\n            }\n          : {\n              hover: {\n                scale: 1.08,\n              },\n            },\n      [highlightBgColor]\n    );\n\n    const textVariants = React.useMemo(\n      () =>\n        highlightTextColor\n          ? {\n              hover: {\n                color: highlightTextColor,\n              },\n            }\n          : undefined,\n      [highlightTextColor]\n    );\n\n    if (nameKey !== KOJIHARU) {\n      return (\n        <LocalizedLink to={`/members/${nameKey}`} className={styles.link}>\n          <motion.div\n            whileHover=\"hover\"\n            variants={containerVariants}\n            transition={{ duration: 0.3 }}\n            style={isCenter ? { backgroundColor: \"#e887a3\" } : undefined}\n            className={styles.container}\n          >\n            <div className={styles.imageContainer}>\n              <div className={styles.wrapper}>\n                <LazyImage\n                  src={image.small}\n                  srcSet={image.large + \" 2x\"}\n                  alt={nameText}\n                  className={styles.image}\n                />\n              </div>\n            </div>\n            <motion.div\n              variants={textVariants}\n              transition={{ duration: 0.3 }}\n              style={isCenter ? { color: \"#ffffff\" } : undefined}\n              className={styles.name}\n            >\n              <span>{nameText}</span>\n            </motion.div>\n          </motion.div>\n        </LocalizedLink>\n      );\n    } else {\n      return (\n        <div\n          style={isCenter ? { backgroundColor: \"#e887a3\" } : undefined}\n          className={styles.container}\n        >\n          <div className={styles.imageContainer}>\n            <div className={styles.wrapper}>\n              <LazyImage\n                src={image.small}\n                srcSet={image.large + \" 2x\"}\n                alt={nameText}\n                className={styles.image}\n              />\n            </div>\n          </div>\n          <div\n            style={isCenter ? { color: \"#ffffff\" } : undefined}\n            className={styles.name}\n          >\n            <span>{nameText}</span>\n          </div>\n        </div>\n      );\n    }\n  }\n);\n","import * as React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Language } from \"utils/constants\";\n\ninterface LocalizedListProps {\n  list: string[];\n  intl: any;\n}\n\nexport const LocalizedList = injectIntl(\n  ({ list, intl: { locale } }: LocalizedListProps) => {\n    let comma: string;\n    switch (locale) {\n      case Language.Zh:\n        comma = \"、\";\n        break;\n      case Language.Ja:\n        comma = \"、\";\n        break;\n      default:\n        comma = \", \";\n        break;\n    }\n\n    return <>{list.join(comma)}</>;\n  }\n);\n"],"sourceRoot":""}